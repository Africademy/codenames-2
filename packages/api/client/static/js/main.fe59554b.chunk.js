(this.webpackJsonpcodenames=this.webpackJsonpcodenames||[]).push([[0],{115:function(e,t,a){e.exports=a.p+"static/media/default.20a5c089.jpg"},145:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGES={pong:"PONG",ping:"PING",login:"LOGIN",logout:"LOGOUT",joinGame:"JOIN_GAME",createGame:"CREATE_GAME",startGame:"START_GAME",leaveGame:"LEAVE_GAME",chooseWord:"CHOOSE_WORD",chooseSpyMaster:"CHOOSE_SPY_MASTER",playAgain:"PLAY_AGAIN",gameOver:"GAME_OVER",gameAborted:"GAME_ABORTED",gameNotification:"GAME_NOTIFICATION",words:"WORDS",playersInfo:"PLAYERS_INFO",spyMastersInfo:"SPYMASTERS_INFO",cardInfo:"CARD_INFO"}},192:function(e,t,a){e.exports=a(350)},197:function(e,t,a){},301:function(e,t,a){},303:function(e,t,a){"use strict";function n(e){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])}Object.defineProperty(t,"__esModule",{value:!0}),n(a(304)),n(a(305))},304:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESPONSE_CODES={success:"SUCCESS",failed:"FAILED",loginFailed:"LOGIN_FAILED",loginSuccess:"LOGIN_SUCCESS",gameNotification:"GAME_NOTIFICATION"}},305:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.error=0]="error",e[e.info=1]="info"}(t.ResponseType||(t.ResponseType={}))},306:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(145);t.loginPayload=function(e){return{operation:n.MESSAGES.login,payload:{name:e}}},t.createGamePayload=function(e){return{operation:n.MESSAGES.createGame,payload:{playerId:e}}},t.joinGamePayload=function(e,t){return{operation:n.MESSAGES.joinGame,payload:{playerId:e,gameId:t}}},t.startGamePayload=function(e){return{operation:n.MESSAGES.startGame,payload:{gameId:e}}},t.chooseWordPayload=function(e,t){return{operation:n.MESSAGES.chooseWord,payload:{gameId:e,word:t}}},t.chooseSpyMasterPayload=function(e,t){return{operation:n.MESSAGES.chooseSpyMaster,payload:{gameId:e,playerId:t}}},t.leaveGamePayload=function(e,t){return{operation:n.MESSAGES.leaveGame,payload:{gameId:e,playerId:t}}},t.pingPayload=function(){return{operation:n.MESSAGES.ping,payload:{ping:"ping"}}}},307:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Blue=0]="Blue",e[e.Red=1]="Red",e[e.Civilian=2]="Civilian",e[e.Assasin=3]="Assasin"}(t.CardType||(t.CardType={})),function(e){e[e.New=0]="New",e[e.InProgress=1]="InProgress",e[e.Over=2]="Over",e[e.Aborted=3]="Aborted"}(t.GameStatus||(t.GameStatus={}))},310:function(e,t,a){},311:function(e,t,a){},345:function(e,t){},350:function(e,t,a){"use strict";a.r(t);var n,r,o,i,s,c,u,l=a(0),m=a.n(l),f=a(12),h=a(15),p=a.n(h),d=(a(197),a(10)),b=a(21),y=a(7),g=a(13),v=a(14),O=a(375),E=a(373),j=a(376),S=a(379),I=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(j.a,{as:"h4",attached:"top"},"How to play!"),m.a.createElement(S.a,{attached:!0},m.a.createElement("ul",null,m.a.createElement("h5",null,"How To"),m.a.createElement("li",null,"Sign in with any name to play"),m.a.createElement("li",null,"Afer successfully signing in you can either create a new game or join an existing one"),m.a.createElement("li",null,"If creating a new game, you will get a game ID which you can share with people you wish join the game"),m.a.createElement("li",null,'To join an existing game simply click "Join Game" and enter the ID of the game you want to join'))))}}]),a}(l.Component),k=a(38),w=a(9),C=a.n(w),G=a(18),x=a(374),M=a(378),N=a(53),T=(a(301),Object(f.b)("store")(n=Object(f.c)(n=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).inputRef=void 0,n.onSignIn=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.store.signIn(n.state.name);case 2:n.inputRef&&(n.inputRef.value="");case 3:case"end":return e.stop()}}),e)}))),n.state={name:""},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.onSignIn=n.onSignIn.bind(Object(b.a)(n)),n}return Object(y.a)(a,[{key:"store",get:function(){return this.props.store}}]),Object(y.a)(a,[{key:"render",value:function(){return m.a.createElement(x.a,{className:"form"},m.a.createElement(x.a.Group,{controlId:"formPlaintextEmail"},m.a.createElement(x.a.Label,{className:"label"},"Name"),m.a.createElement(x.a.Control,{plaintext:!0,placeholder:"your name goes here",className:"input",value:this.state.name,onChange:this.handleChange})),m.a.createElement(M.a,{variant:"primary",size:"lg",block:!0,className:"primary-button",onClick:this.onSignIn},"Sign In"))}},{key:"handleChange",value:function(e){this.setState({name:e.target.value})}}]),a}(l.Component))||n)||n),A=Object(f.b)("store")(r=Object(f.c)(r=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onCreateGame=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.store.createGame();case 2:case"end":return e.stop()}}),e)}))),n.onJoinGame=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.store.joinGame(n.state.gameId);case 2:case"end":return e.stop()}}),e)}))),n.handleShow=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(Object(k.a)({},n.state,{show:!0}));case 1:case"end":return e.stop()}}),e)}))),n.handleClose=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(Object(k.a)({},n.state,{show:!1}));case 1:case"end":return e.stop()}}),e)}))),n.state={show:!1,gameId:""},n.onCreateGame=n.onCreateGame.bind(Object(b.a)(n)),n.onJoinGame=n.onJoinGame.bind(Object(b.a)(n)),n.handleShow=n.handleShow.bind(Object(b.a)(n)),n.handleClose=n.handleClose.bind(Object(b.a)(n)),n.handleGameIdChange=n.handleGameIdChange.bind(Object(b.a)(n)),n}return Object(y.a)(a,[{key:"store",get:function(){return this.props.store}}]),Object(y.a)(a,[{key:"render",value:function(){var e;return(null===(e=this.props.store)||void 0===e?void 0:e.user.isSignedIn)?m.a.createElement(m.a.Fragment,null,m.a.createElement(x.a,{className:"main-menu"},m.a.createElement(M.a,{variant:"primary",size:"lg",block:!0,className:"primary-button",onClick:this.onCreateGame},"Create New Game"),m.a.createElement("br",null),m.a.createElement(M.a,{variant:"primary",size:"lg",block:!0,className:"primary-button",onClick:this.handleShow},"Join Existing Game")),m.a.createElement(N.a,{show:this.state.show,onHide:this.handleClose,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},m.a.createElement(N.a.Header,{closeButton:!0},m.a.createElement(N.a.Title,null,"Enter ID of game to join")),m.a.createElement(N.a.Body,null,m.a.createElement(x.a,{className:"form"},m.a.createElement(x.a.Group,{controlId:"formPlaintextEmail"},m.a.createElement(x.a.Control,{plaintext:!0,placeholder:"game ID goes here",className:"input",value:this.state.gameId,onChange:this.handleGameIdChange})))),m.a.createElement(N.a.Footer,null,m.a.createElement(M.a,{variant:"secondary",onClick:this.handleClose},"Close"),m.a.createElement(M.a,{variant:"primary",onClick:this.onJoinGame},"Join Game")))):m.a.createElement(T,null)}},{key:"handleGameIdChange",value:function(e){this.setState(Object(k.a)({},this.state,{gameId:e.target.value}))}}]),a}(l.Component))||r)||r,P=a(8),_=a(377),R=a(86),D=a.n(R),L=a(87),F=a.n(L),B=a(88),W=a.n(B),z=a(89),J=a.n(z),q=a(115),H=a.n(q),U=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(y.a)(a,[{key:"onClick",value:function(e){this.props.onClick(e)}},{key:"render",value:function(){var e=this,t=this.props.card;return m.a.createElement(_.a,{onClick:function(){return e.onClick(t.word)},style:{width:"11rem"},key:t.word},m.a.createElement(_.a.Img,{variant:"top",src:this.cardImage(t),style:{height:"11rem"}}),m.a.createElement(_.a.Body,null,m.a.createElement(_.a.Title,null,t.word)))}},{key:"cardImage",value:function(e){if(!e.chosen)return H.a;switch(e.type){case P.CardType.Assasin:return J.a;case P.CardType.Blue:return D.a;case P.CardType.Red:return F.a;case P.CardType.Civilian:return W.a;default:return H.a}}}]),a}(l.Component),Y=a(370),V=a(170),$=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).COLS=5,n.state={cardTable:n.cardTable(n.props.cards)},n}return Object(y.a)(a,[{key:"cardTable",value:function(e){var t=this,a=[],n=[];return e.forEach((function(e,r){n.push(e),0!==r&&(r+1)%t.COLS===0&&(a.push(n),n=[])})),a}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.setState(Object(k.a)({},this.state,{cardTable:this.cardTable(this.props.cards)}))}},{key:"render",value:function(){var e=this.props.onCardClick;return this.state.cardTable.map((function(t){return m.a.createElement(Y.a,null,t.map((function(t){return m.a.createElement(V.a,{md:"auto"},m.a.createElement(U,{key:t.word,card:t,onClick:e}))})))}))}}]),a}(l.Component),K=Object(f.b)("store")(o=Object(f.c)(o=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onStartGame=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.store.startGame();case 2:case"end":return e.stop()}}),e)}))),n.onStartGame=n.onStartGame.bind(Object(b.a)(n)),n}return Object(y.a)(a,[{key:"store",get:function(){return this.props.store}}]),Object(y.a)(a,[{key:"render",value:function(){if(this.store.game.status!==P.GameStatus.New)throw new Error("Cards need to be present");return m.a.createElement(N.a.Dialog,null,m.a.createElement(N.a.Header,null,m.a.createElement(N.a.Title,null,"Game Id: ",this.store.game.id)),m.a.createElement(N.a.Body,null,this.formattedPlayerNames),m.a.createElement(N.a.Footer,null,m.a.createElement(M.a,{variant:"primary",onClick:this.onStartGame},"Start Game")))}},{key:"formattedPlayerNames",get:function(){var e;return null===(e=this.store.game.players)||void 0===e?void 0:e.map((function(e){return m.a.createElement("h4",null,e,m.a.createElement("br",null))}))}}]),a}(l.Component))||o)||o,Q=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).COLS=5,n.state={typeTable:n.typeTable(n.props.cards)},n}return Object(y.a)(a,[{key:"typeTable",value:function(e){var t=this,a=[],n=[];return e.forEach((function(e,r){if(null==e.type)throw new Error("Missing type for card ".concat(e.word));n.push(e.type),0!==r&&(r+1)%t.COLS===0&&(a.push(n),n=[])})),a}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement(j.a,{as:"h4",attached:"top"},"Spy Masters Grid"),m.a.createElement(S.a,{attached:!0},this.state.typeTable.map((function(t){return m.a.createElement(Y.a,null,t.map((function(t){return m.a.createElement(V.a,{md:"auto"},m.a.createElement(_.a,{style:{width:"5rem"}},m.a.createElement(_.a.Img,{src:e.typeImage(t)})))})))}))))}},{key:"typeImage",value:function(e){switch(e){case P.CardType.Assasin:return J.a;case P.CardType.Blue:return D.a;case P.CardType.Red:return F.a;case P.CardType.Civilian:return W.a;default:return console.log("should not be reached"),""}}}]),a}(l.Component),X=Object(f.b)("store")(i=Object(f.c)(i=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleSnackbarClose=function(){n.store.clearNotifications()},n.onCardClick=function(e){n.store.user.isSpymMaster?n.store.setNotification("Spy Master cannot choose card"):n.store.chooseWord(e)},n}return Object(y.a)(a,[{key:"store",get:function(){return this.props.store}}]),Object(y.a)(a,[{key:"render",value:function(){if(this.store.game.status===P.GameStatus.New)return m.a.createElement(K,null);if(null==this.store.game.cards||0===this.store.game.cards.length)throw new Error("Cards need to be present");return m.a.createElement(m.a.Fragment,null,m.a.createElement(Y.a,null,m.a.createElement(V.a,{md:"auto"},m.a.createElement($,{cards:this.store.game.cards,onCardClick:this.onCardClick})),m.a.createElement(V.a,{md:"auto"},this.store.user.isSpymMaster&&m.a.createElement(Q,{cards:this.store.game.cards}))),m.a.createElement(O.a,{open:this.store.newNotification,autoHideDuration:6e3,onClose:this.handleSnackbarClose},m.a.createElement(E.a,{onClose:this.handleSnackbarClose,elevation:6,variant:"filled",severity:"info"},this.store.notification)))}}]),a}(l.Component))||i)||i,Z=Object(f.b)("store")(s=Object(f.c)(s=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onBeSpyMaster=function(){n.store.chooseSpyMaster()},n.onLeaveGame=function(){n.store.leaveGame()},n}return Object(y.a)(a,[{key:"store",get:function(){return this.props.store}}]),Object(y.a)(a,[{key:"render",value:function(){var e,t;return m.a.createElement("div",null,m.a.createElement(j.a,{as:"h4",attached:"top"},"Menu",m.a.createElement("input",{type:"button",value:"Leave Game",style:{float:"right"},onClick:this.onLeaveGame})),m.a.createElement(S.a,{attached:!0},m.a.createElement("div",null,"Players: ",null===(e=this.store.game.players)||void 0===e?void 0:e.join(" , ")),m.a.createElement("div",null,"Spy Masters: ",null===(t=this.store.game.spyMasters)||void 0===t?void 0:t.join(" & "),m.a.createElement("input",{type:"button",value:"Be Spy Master!",onClick:this.onBeSpyMaster,style:{float:"right"}}))))}}]),a}(l.Component))||s)||s,ee=(a(310),Object(f.b)("store")(c=Object(f.c)(c=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(y.a)(a,[{key:"store",get:function(){return this.props.store}}]),Object(y.a)(a,[{key:"render",value:function(){return this.store.game.id?m.a.createElement(l.Fragment,null,m.a.createElement(Z,null),m.a.createElement(X,null)):m.a.createElement(l.Fragment,null,m.a.createElement(I,null),m.a.createElement(A,null))}}]),a}(l.Component))||c)||c),te=(a(311),Object(f.b)("store")(u=Object(f.c)(u=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleErrorClose=n.handleErrorClose.bind(Object(b.a)(n)),n}return Object(y.a)(a,[{key:"store",get:function(){return this.props.store}}]),Object(y.a)(a,[{key:"handleErrorClose",value:function(){this.store.clearErrors()}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(ee,null),m.a.createElement(O.a,{open:!!this.store.game.error,autoHideDuration:1e4,onClose:this.handleErrorClose},m.a.createElement(E.a,{elevation:6,variant:"filled",severity:"error",onClose:this.handleErrorClose},this.store.game.error)))}}]),a}(l.Component))||u)||u);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae,ne,re,oe,ie,se,ce,ue=a(93),le=a(41),me=(a(312),a(11)),fe=a(94),he=a(173),pe=document.location.protocol+"//"+document.location.host,de=he.connect(pe,{timeout:2e5}),be=function(){function e(t){Object(d.a)(this,e),this.subscribeToNotifications=t,de.on("data",this.subscribeToNotifications)}return Object(y.a)(e,[{key:"signIn",value:function(e){return this.sendRequest(Object(P.loginPayload)(e))}},{key:"createGame",value:function(e){return this.sendRequest(Object(P.createGamePayload)(e))}},{key:"joinGame",value:function(e,t){return this.sendRequest(Object(P.joinGamePayload)(e,t))}},{key:"startGame",value:function(e){return this.sendRequest(Object(P.startGamePayload)(e))}},{key:"chooseWord",value:function(e,t){return this.sendRequest(Object(P.chooseWordPayload)(e,t))}},{key:"chooseSpyMaster",value:function(e,t){return this.sendRequest(Object(P.chooseSpyMasterPayload)(e,t))}},{key:"leaveGame",value:function(e,t){return this.sendRequest(Object(P.leaveGamePayload)(e,t))}},{key:"ping",value:function(){return this.sendRequest(Object(P.pingPayload)())}},{key:"openConnection",value:function(){de.connected||de.connect()}},{key:"sendRequest",value:function(e){return this.openConnection(),new Promise((function(t,a){de.emit("data",e,(function(e,n){e?a(e):(n.type===P.ResponseType.error&&a(n.message),t(n.payload||!0))}))}))}}]),e}(),ye=new(ae=Object(fe.persist)("object"),ne=Object(fe.persist)("object"),re=Object(fe.persist)("object"),oe=function(){function e(){var t=this;Object(d.a)(this,e),Object(ue.a)(this,"gameInfo",ie,this),Object(ue.a)(this,"userInfo",se,this),Object(ue.a)(this,"notificationText",ce,this),this.gameService=void 0,this.subscribeToNotifications=function(e){var a;console.log("Got response: ".concat(e));var n=e.message;if(n)t.gameInfo.error=n;else{var r=e.payload||{},o=r.action,i=void 0===o?"":o,s=r.data,c=void 0===s?{}:s;switch(i){case P.MESSAGES.words:t.gameInfo.cards=c.words.map((function(e){return{word:e,chosen:!1}})),t.gameInfo.status=P.GameStatus.InProgress;break;case P.MESSAGES.playersInfo:t.gameInfo.players=c.players;break;case P.MESSAGES.cardInfo:var u=c;if(null==t.gameInfo.cards)break;var l=null===(a=t.gameInfo.cards)||void 0===a?void 0:a.findIndex((function(e){return e.word===u.word}));t.gameInfo.cards=t.gameInfo.cards.map((function(e,t){return t===l?Object(k.a)({},u,{chosen:!0}):e}));break;case P.MESSAGES.spyMastersInfo:t.gameInfo.spyMasters=c.players;break;case P.MESSAGES.gameNotification:t.notificationText=c.notification;break;case P.MESSAGES.gameAborted:t.initializeStore(),t.gameInfo.error=c.reason||"Ooops Something went wrong. Sorry for the incovenience";break;default:console.log("Default case. Shouldn't hit this. operation: ".concat(i))}}},this.gameService=new be(this.subscribeToNotifications),this.initializeStore()}return Object(y.a)(e,[{key:"ping",value:function(){var e=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.gameService.ping();case 3:this.gameInfo.isConnected=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.gameInfo.error=e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(G.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.gameService.signIn(t);case 3:a=e.sent,this.setUserInfo(a),this.userInfo.isSignedIn=!0,e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(this.gameInfo.error),this.gameInfo.error=e.t0,console.log(this.gameInfo.error);case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setUserInfo",value:function(e){this.userInfo=e}},{key:"createGame",value:function(){var e=Object(G.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.userInfo.id){e.next=2;break}throw new Error("Login first");case 2:return e.prev=2,e.next=5,this.gameService.createGame(this.userInfo.id);case 5:t=e.sent,this.gameInfo=t,this.userInfo.gameId=t.id,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.gameInfo.error=e.t0;case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"joinGame",value:function(){var e=Object(G.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.userInfo.id){e.next=2;break}throw new Error("Login first");case 2:return e.prev=2,e.next=5,this.gameService.joinGame(this.userInfo.id,t);case 5:a=e.sent,this.gameInfo=a,this.userInfo.gameId=a.id,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.gameInfo.error=e.t0;case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"startGame",value:function(){var e=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gameInfo.id){e.next=2;break}throw new Error("Ned to join game first");case 2:return e.prev=2,e.next=5,this.gameService.startGame(this.gameInfo.id);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.gameInfo.error=e.t0;case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"chooseWord",value:function(){var e=Object(G.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gameInfo.id){e.next=2;break}throw new Error("Need to join game first");case 2:return e.prev=2,e.next=5,this.gameService.chooseWord(this.gameInfo.id,t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.gameInfo.error=e.t0;case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"chooseSpyMaster",value:function(){var e=Object(G.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gameInfo.id){e.next=2;break}throw new Error("Need to join game first");case 2:if(this.user.id){e.next=4;break}throw new Error("Need to login first");case 4:return e.prev=4,e.next=7,this.gameService.chooseSpyMaster(this.gameInfo.id,this.user.id);case 7:a=e.sent,null===(t=this.gameInfo.cards)||void 0===t||t.forEach((function(e,t){e.type=a[t].type})),this.user.isSpymMaster=!0,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),this.gameInfo.error=e.t0;case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"leaveGame",value:function(){var e=Object(G.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gameInfo.id){e.next=2;break}throw new Error("Need to join game first");case 2:if(this.user.id){e.next=4;break}throw new Error("Need to login first");case 4:try{this.gameService.leaveGame(this.gameInfo.id,this.user.id),this.initializeStore()}catch(t){this.gameInfo.error=t}case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setNotification",value:function(e){this.notificationText=e}},{key:"clearNotifications",value:function(){this.notificationText=""}},{key:"clearErrors",value:function(){this.gameInfo.error=""}},{key:"initializeStore",value:function(){this.gameInfo={},this.userInfo=Object(k.a)({},this.userInfo,{isSpymMaster:!1,gameId:void 0})}},{key:"user",get:function(){return this.userInfo}},{key:"game",get:function(){return this.gameInfo}},{key:"newNotification",get:function(){return!!this.notificationText}},{key:"notification",get:function(){return this.notificationText}}]),e}(),ie=Object(le.a)(oe.prototype,"gameInfo",[ae,me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),se=Object(le.a)(oe.prototype,"userInfo",[ne,me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ce=Object(le.a)(oe.prototype,"notificationText",[re,me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(le.a)(oe.prototype,"user",[me.computed],Object.getOwnPropertyDescriptor(oe.prototype,"user"),oe.prototype),Object(le.a)(oe.prototype,"game",[me.computed],Object.getOwnPropertyDescriptor(oe.prototype,"game"),oe.prototype),Object(le.a)(oe.prototype,"newNotification",[me.computed],Object.getOwnPropertyDescriptor(oe.prototype,"newNotification"),oe.prototype),Object(le.a)(oe.prototype,"notification",[me.computed],Object.getOwnPropertyDescriptor(oe.prototype,"notification"),oe.prototype),oe);a(348),a(349);p.a.render(m.a.createElement(f.a,{store:ye},m.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){"use strict";function n(e){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])}Object.defineProperty(t,"__esModule",{value:!0}),n(a(303)),n(a(145)),n(a(306)),n(a(307))},86:function(e,t,a){e.exports=a.p+"static/media/blue.a91846a9.jpeg"},87:function(e,t,a){e.exports=a.p+"static/media/red.e34ad243.jpeg"},88:function(e,t,a){e.exports=a.p+"static/media/civilian.75a5f2bf.jpg"},89:function(e,t,a){e.exports=a.p+"static/media/assasin.60a0e58c.jpg"}},[[192,1,2]]]);
//# sourceMappingURL=main.fe59554b.chunk.js.map